# Future Features & Enhancements #

This server is a great start! Here are potential features to make it more robust and capable:

**RAG Pipeline Improvements:**

1.  **Hybrid Search:** Combine keyword search (e.g., using SQLite FTS5 or a dedicated search index like MeiliSearch/Elasticsearch) with semantic search results using techniques like Reciprocal Rank Fusion (RRF) for better relevance.
2.  **Re-ranking:** Use a smaller, faster cross-encoder model to re-rank the top-k documents retrieved by the initial search (semantic/hybrid) for improved final context relevance before summarization or generation.
3.  **Query Transformation:** Implement techniques like HyDE (Hypothetical Document Embeddings) or multi-query generation to rephrase the user query for better retrieval results.
4.  **Contextual Compression/Filtering:** Instead of simple truncation, filter retrieved chunks/summaries based on relevance to the query *before* adding them to the final prompt.
5.  **Chat History Embedding:** Embed previous turns of the conversation and include relevant past interactions (found via semantic search on history) in the LLM context for longer-term memory.
6.  **Metadata Filtering:** Allow filtering ChromaDB search results based on document metadata (e.g., source, date) during retrieval.

**LLM & Generation Enhancements:**

7.  **Streaming Responses:** Modify the chat endpoint and backend implementations to support streaming tokens back to the client as they are generated by the LLM for a more interactive feel. (Requires changes to API endpoint, service, and potentially backend classes).
8.  **Dedicated Summarization Model:** Use a separate, smaller, potentially faster model specifically fine-tuned for summarization instead of using the main generation LLM (improves latency and avoids config conflicts).
9.  **Fine-grained Parameter Control:** Allow passing specific generation parameters (like `stop` sequences) through the API to the backend's generate function.
10. **Support for More Model Types (GGUF):** Add logic to `llm_service` and a specific backend (e.g., using `llama-cpp-python`) to load and interact with GGUF-formatted models, which are popular for running efficiently on CPU or GPU.
11. **Better Prompt Template Management:** Use templating engines (like Jinja2) or configuration files to manage different prompt structures for various models or tasks.

**API & Infrastructure:**

12. **API Authentication & Authorization:** Implement user accounts and API key/OAuth2 authentication to secure endpoints.
13. **User Management:** Allow different users to manage their own documents and sessions.
14. **Asynchronous Document Processing Queue:** Replace FastAPI `BackgroundTasks` with a more robust task queue system (Celery, RQ, Arq) for better scalability, monitoring, and retries of document processing jobs.
15. **Horizontal Scaling:** Design considerations for running multiple instances of the server (requires statelessness where possible or shared state management).
16. **Input Validation:** More rigorous validation of inputs (e.g., checking document ID existence before linking to session).
17. **Improved Logging & Monitoring:** Integrate structured logging and potentially monitoring tools (like Prometheus/Grafana) for better observability.
18. **Automated Testing:** Implement comprehensive unit and integration tests.

**Document Handling:**

19. **Support More File Types:** Add extractors for other formats (e.g., `.pptx`, EPub, images via OCR).
20. **Advanced Chunking Strategies:** Allow configuration of chunking parameters (size, overlap) per upload or globally; explore semantic chunking.
21. **Document Metadata Extraction:** Automatically extract metadata (author, title, creation date) from documents during processing and store it for filtering.
22. **Document Deletion:** Implement functionality to fully delete a document, including its chunks from SQLite and its vectors from ChromaDB.

**User Experience:**

23. **Web User Interface:** Build a front-end application (e.g., using React, Vue, Streamlit, Gradio) to interact with the server's API.
24. **Session Tagging/Search:** Implement automatic tagging of sessions based on content and allow searching/filtering the session list.
